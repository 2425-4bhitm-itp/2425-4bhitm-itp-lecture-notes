= 24/25 4bhitm - itp1 - Lecture Notes
Thomas St√ºtz
1.0.0, {docdate}: Lecture Notes for Courses at HTL Leonding
:icons: font
:experimental:
:sectnums:
ifndef::imagesdir[:imagesdir: images]
:toc:
ifdef::backend-html5[]
// https://fontawesome.com/v4.7.0/icons/
icon:file-text-o[link=https://github.com/2324-4bhif-wmc/2324-4bhif-wmc-lecture-notes/main/asciidocs/{docname}.adoc] ‚Äè ‚Äè ‚Äé
icon:github-square[link=https://github.com/2324-4bhif-wmc/2324-4bhif-wmc-lecture-notes] ‚Äè ‚Äè ‚Äé
icon:home[link=http://edufs.edu.htl-leonding.ac.at/~t.stuetz/hugo/2021/01/lecture-notes/]
endif::backend-html5[]

== 2024-09-26

=== Bezeichnungen in git-Repositories

image::git-repo-names.png[]

* Bezeichnungen sollten immer im kebab-Casing erstellt werden:
** Grund: beim erstellen von Docker-Images kann es zu Problemen kommen.
** statt "FerienPass" -> "ferien-pass"


=== Minimum Viable Product

* Eine User Story muss so klein sein, dass man sie in einem Sprint erledigen kann

* https://blog.crisp.se/2016/01/25/henrikkniberg/making-sense-of-mvp

* Alle 2 Wochen wird ein  neues MVP erstellt (Rapid Value Creation)

image::minimum-viable-product.png[]


== 2024-10-24

* https://dev.to/pavanbelagatti/learn-how-to-setup-a-cicd-pipeline-from-scratch-for-a-go-application-4m69

image::ci-cd-cd.png[]

=== gh-actions - Ein erster Workflow

* ist ein Mechanismus, mit dem shell-Befehle hinterlegt werden k√∂nnen, die anschlie√üend ausgef√ºhrt werden.

* https://docs.github.com/en/actions/writing-workflows/quickstart


* Was ist yaml?
** Vergleichbar mit JSON, nur andere Schreibweise


* Erstellen eines gh-Verzeichnisses
+
----
mkdir -p .github/workflows
----

* Erstellen einer https://docs.github.com/de/actions/writing-workflows/quickstart#creating-your-first-workflow[Workflow Datei^] `github-actions-demo.yaml`
+
[source,yaml]
----
name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions üöÄ
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - run: echo "üéâ The job was automatically triggered by a ${{ github.event_name }} event."
      - run: echo "üêß This job is now running on a ${{ runner.os }} server hosted by GitHub!"
      - run: echo "üîé The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
      - name: Check out repository code
        uses: actions/checkout@v4
      - run: echo "üí° The ${{ github.repository }} repository has been cloned to the runner."
      - run: echo "üñ•Ô∏è The workflow is now ready to test your code on the runner."
      - name: List files in the repository
        run: |
          ls ${{ github.workspace }}
      - run: echo "üçè This job's status is ${{ job.status }}."
----
* Committen und pushen
+
image::gh-actions-first-run.png[]


=== Workflow zum kompilieren eines quarkus Projekts

* l√∂schen des bestehenden Workflow-Files oder deaktivieren mittels Anf√ºgen der Endung `disabled`

* Erstellen eines workflow-Files `actions.yaml`
+
image::gh-actions-folder.png[]
+
[source,yaml]
----
name: GitHub Actions Demo
run-name: ${{ github.actor }} is compiling a quarkus project üöÄ
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-java@v4 # <.>
        with:
          distribution: 'temurin'
          java-version: '21'
          cache: 'maven' # <.>
          cache-dependency-path: 'ci-cd/pom.xml' # optional
      - name: Build with Maven
        working-directory: ci-cd
        run: mvn -B package --file pom.xml
----

<.> Es ist sinnvoll am gh-Marketplace eine action zu suchen. Hier bildet die https://github.com/marketplace/actions/setup-java-jdk#caching-maven-dependencies[java-setup^]-action die Grundlage.

<.> Mit dieser Actions k√∂nnen die maven-dependencies zwischen den L√§ufen gecached werden. Im Fehlerfall wird der Cache gel√∂scht.

image::gh-actions-2nd-run.png[]

== 2024-12-05

=== Rollenkonzept

image::rollenkonzept.png[]

=== Authorisierung und Authentifizierung

* Authorization: Wer bin ich? -> 401 Unauthorized
* Authentication: Was darf ich? -> 403 Forbidden


=== Keycloak

* User

== 2024-12-12

image::keycloak-architektur.png[]

* https://www.urlencoder.org/[URL Encoder/Decoder]


== 2025-02-27 Security

----
git clone git@github.com:caberger/keycloak.git

cd compose
docker compose up --build

# L√∂schen der images und volumes
docker image ls -q | xargs docker image rm
docker volume ls -q | xargs docker volume rm
----

== 2025-03-06

image::reverse-engineering.png[]

image::reverse-engineering.png[]

image::authentication-authorization.png[]

* F√ºr die Umsetzung verwenden wir Keycloak

* RBAC: Role Based Access Control










